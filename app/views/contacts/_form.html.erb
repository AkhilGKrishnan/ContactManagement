<%= form_for @contact, html: { multipart: true } do |f| %>          
    <div class="panel-body">
  <script>
    $(document).ready(function() {
      
      var max_fields      = 3; //maximum input boxes allowed
      var wrapperphone   		= $(".adderfield"); //Fields wrapper
      var add_buttonphone      = $(".addphone"); //Add button ID
      var wrapperaddress =  $(".adderaddress");
      var add_buttonaddress =  $(".addaddress");
      var y=1;
        //initlal text box count
      //Multiple Phonefield  
      var x = 1;  
      $(add_buttonphone).click(function(e){ //on add input button click
        e.preventDefault();
        if(x < max_fields){ //max input box allowed
          x++; //text box increment
          if(x==2){
            $(wrapperphone).append('<div class="sampleclass"><%= f.label :phone2, class: "control-label col-md-3" %><div class="col-md-8"><%= f.text_field :phone2, class: "form-control" %><a href="#" class="remove_field">Remove</a></div></div>'); //add input box
          }
          else{
            $(wrapperphone).append('<div class="sampleclass"><%= f.label :phone3, class: "control-label col-md-3" %><div class="col-md-8"><%= f.text_field :phone3,class: "form-control" %><a href="#" class="remove_field">Remove</a></div></div>'); //add input box
          }
        }
      });
      
      $(wrapperphone).on("click",".remove_field", function(e){ 
        //user click on remove text
        $('#next').val('');
        e.preventDefault(); $(this).parent().parent('div').remove();  x--;
      })
      //Multiple Address Field
       
      $(add_buttonaddress).click(function(e){ //on add input button click
        e.preventDefault();
        if(y < max_fields){ //max input box allowed
          y++; //text box increment
          if(y==2){
            $(wrapperaddress).append('<div class="sampleclass"><%= f.label :address2, class: "control-label col-md-3" %><div class="col-md-8"><%= f.text_field :address2, class: "form-control" %><a href="#" class="remove_fieldadd">Remove</a></div></div>'); //add input box
          }
          else{
            $(wrapperaddress).append('<div class="sampleclass"><%= f.label :address3, class: "control-label col-md-3" %><div class="col-md-8"><%= f.text_field :address3, class: "form-control" %><a href="#" class="remove_fieldadd">Remove</a></div></div>'); //add input box
          }
        }
      });
      
      $(wrapperaddress).on("click",".remove_fieldadd", function(e){ 
        //user click on remove text
        
        e.preventDefault(); $(this).parent().parent('div').remove();  y--;
      })  
    });
</script>
      
      <% if @contact.errors.any? %>

        <div class="row">
          <div class="col-md-12">
            <div class="alert alert-danger">
              <h3>Please correct this following errors:</h3>

              <ul>
                <% @contact.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
            </div>
          </div>
        </div>

      <% end %>

      <div class="form-horizontal">
        <div class="row">
          <div class="col-md-8">
            <div class="form-group">
              <%= f.label :name, class: "control-label col-md-3" %>               
              <div class="col-md-8">
                <%= f.text_field :name, style: "text-transform: uppercase;", class: "form-control" %>                
              </div>
            </div>

            <div class="form-group">
              <%= f.label :company, class: "control-label col-md-3" %>               
              <div class="col-md-8">
                <%= f.text_field :company, class: "form-control" %>                
              </div>              
            </div>

                
            

            
            

            <div class="form-group">
              <%= f.label :email, class: "control-label col-md-3" %>               
              <div class="col-md-8">
                <%= f.text_field :email, class: "form-control" %>                
              </div>              
            </div>

            <!--<div class="form-group">
              <%= f.label :phone, class: "control-label col-md-3" %>               
              <div class="col-md-8">
                <%= f.text_field :phone, class: "form-control" %>                
              </div>
            </div>-->

            <div class="form-group">
              <div class="adderfield">
                  <%= f.label :phone, class: "control-label col-md-3" %>               
                  <div class="col-md-8">
                    <%= f.text_field :phone,class: "form-control" %><button class="addphone"><div class="btn btn-circle btn-default btn-xs"><i class="glyphicon glyphicon-plus-sign"></i><div></button><br>                
                  </div> 
              </div>  
            </div>         
                      

            
            <div class="form-group">
              <div class="adderaddress">
                <%= f.label :address, class: "control-label col-md-3" %>               
                <div class="col-md-8">
                  <%= f.text_area :address, class: "form-control" %><button class="addaddress"><div class="btn btn-circle btn-default btn-xs"><i class="glyphicon glyphicon-plus-sign"></i><div></button><br>                
                </div>
              </div>
            </div>

            <div class="form-group">
              <%= f.label :breif_note, class: "control-label col-md-3" %>               
              <div class="col-md-8">
                <%= f.text_area :breif_note, class: "form-control" %>                
              </div>
            </div>
            <div class="form-group">
              <label for="group" class="control-label col-md-3">Group</label>
              <div class="col-md-5">
                <select name="group" id="group" class="form-control">
                  <option value="">Select group</option>
                  <option value="1">Family</option>
                  <option value="2">Friend</option>
                  <option value="3">Other</option>
                </select>
              </div>
              <div class="col-md-3">
                <a href="#" id="add-group-btn" class="btn btn-default btn-block">Add Group</a>
              </div>
            </div>
            <div class="form-group" id="add-new-group" style="display: none;">
              <div class="col-md-offset-3 col-md-8">
                <div class="input-group">
                  <input type="text" name="new_group" id="new_group" class="form-control">
                  <span class="input-group-btn">
                    <a href="#" class="btn btn-default">
                      <i class="glyphicon glyphicon-ok"></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="fileinput fileinput-new" data-provides="fileinput">
              <div class="fileinput-new thumbnail" style="width: 150px; height: 150px;">
                <%= image_tag @contact.avatar.url(:medium) %>
              </div>
              <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 150px; max-height: 150px;"></div>
              <div class="text-center">
                <span class="btn btn-default btn-file"><span class="fileinput-new">Choose Photo</span><span class="fileinput-exists">Change</span><%= f.file_field :avatar %></span>
                <a href="#" class="btn btn-default fileinput-exists" data-dismiss="fileinput">Remove</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="panel-footer">
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="col-md-offset-3 col-md-6">
              <button type="submit" class="btn btn-primary">Save</button>

              <%= link_to "Cancel", contacts_path, class: "btn btn-default" %>              
            </div>
          </div>
        </div>
      </div>
    </div>
  <% end %>